<%
=begin
apps: postgresql-ha, postgresql
platforms: kubernetes, tanzu-application-catalog
id: compare_solutions
title: Differences between the PostgreSQL-HA and PostgreSQL Helm charts
category: get-started
weight: 40
highlight: 40
=end %>

There are two different ways to deploy a PostgreSQL cluster, using the PostgreSQL Helm chart or the PostgreSQL High Availability (HA) Helm chart. Both solutions provide a simply and reliable way to run PostgreSQL in a production environment. Keep reading to discover the differences between them and check which one better suits your needs.

* Both the PostgreSQL HA and the PostgreSQL chart configures a cluster with a master-slave topology. The master node has writing permissions while replication is on the slaves nodes which have reading-only permissions.
* The PostgreSQL HA Helm chart deploys a cluster with three nodes by default, one for pgpool, and one master and one slave for PostgreSQL. The PostgreSQL chart configures a cluster with two nodes by default (one master and one slave).
* The PostgreSQL HA Helm chart uses pgpool to handle the connection to the nodes. pgpool is resposible to spread the queries among nodes.
* The PostgreSQL HA Helm chart includes a repmgr module that ensures high-availability thanks to automatic membership control. If the master is down, any of the slave nodes will be promoted as master to avoid data loss.

The following diagram shows you the options you have for using Bitnami's PostgreSQL solutions in your deployments:

<%= documentation_img '/images/img/platforms/kubernetes/charts/postgresql-ha/postgresqlha-postgresql.png', 'A diagram comparing a PostgreSQL solution versus a PostgreSQL HA with pgpool and repmgr' %>
